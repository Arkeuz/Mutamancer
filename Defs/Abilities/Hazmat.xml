<?xml version="1.0" encoding="utf-8" ?>

<Defs>
	<TorannMagic.TM_CustomPowerDef ParentName="CustomPower">
		<defName>A_Hazmat</defName>	
		<customPower>	
			<forMage>true</forMage>
			<abilityDefs>		
				<li>A_Hazmat</li>
				<li>A_Hazmat_I</li>
			</abilityDefs>
			<skills>
				<li>
					<label>A_Hazmat_eff</label>
					<description>A_Hazmat_eff_desc</description>
					<levelMax>3</levelMax>
					<costToLevel>1</costToLevel>
				</li>
			</skills>
			<costToLevel>1</costToLevel>		
		</customPower>
	</TorannMagic.TM_CustomPowerDef>
	
  <TorannMagic.TMAbilityDef ParentName="CustomPower">
    <defName>A_Hazmat</defName>
    <label>Hazmat</label>
    <uiIconPath>UI/Hazmat</uiIconPath>
    <description>This ability acts as a toggalble hazmat suit. It increases the pawn's toxic buildup resistance and mutagen resistance so that at max level, they are immune to both.This ability acts as a toggalble hazmat suit. It increases the pawn's toxic buildup resistance and mutagen resistance so that at max level, they are immune to both.</description>
    <manaCost>0</manaCost>
	<upkeepEnergyCost>.2</upkeepEnergyCost>
	<upkeepRegenCost>.4</upkeepRegenCost>
	<upkeepEfficiencyPercent>.2</upkeepEfficiencyPercent>
    <shouldInitialize>true</shouldInitialize>
    <MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>AbilityUser.Verb_UseAbility</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
		<abilityDef>A_Hazmat</abilityDef>
		<isViolent>false</isViolent>
        <defaultProjectile>Projectile_Default</defaultProjectile>
            <warmupTime>0.5</warmupTime>
        <SecondsToRecharge>60</SecondsToRecharge>
        <range>0</range>
        <soundCast>TM_VibrationLow</soundCast>
        <muzzleFlashScale>20</muzzleFlashScale>
        <isPrimary>false</isPrimary>
        <AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
		<targetParams>
			<canTargetItems>false</canTargetItems>
			<canTargetPawns>false</canTargetPawns>
			<canTargetBuildings>false</canTargetBuildings>
			<canTargetSelf>true</canTargetSelf>
			<canTargetLocations>false</canTargetLocations>
		</targetParams>
		<hediffsToApply>
                <li>
                    <hediffDef>A_Hazmat</hediffDef>
                    <applyChance>1.0</applyChance>
					<severity>-15</severity>
                </li>
				<li>
                    <hediffDef>A_Hazmat</hediffDef>
                    <applyChance>1.0</applyChance>
					<severity>1</severity>
                </li>
            </hediffsToApply>
    </MainVerb>
  </TorannMagic.TMAbilityDef>

  <TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
    <defName>A_Hazmat_I</defName>
    <label>Hazmat</label>
    <uiIconPath>UI/Hazmat</uiIconPath>
    <description>This ability acts as a toggalble hazmat suit. It increases the pawn's toxic buildup resistance and mutagen resistance so that at max level, they are immune to both.This ability acts as a toggalble hazmat suit. It increases the pawn's toxic buildup resistance and mutagen resistance so that at max level, they are immune to both.</description>
    <manaCost>0</manaCost>
	<upkeepEnergyCost>.2</upkeepEnergyCost>
	<upkeepRegenCost>.4</upkeepRegenCost>
	<upkeepEfficiencyPercent>.2</upkeepEfficiencyPercent>
    <shouldInitialize>true</shouldInitialize>
    <MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>AbilityUser.Verb_UseAbility</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
		<abilityDef>A_Hazmat</abilityDef>
		<isViolent>false</isViolent>
        <defaultProjectile>Projectile_Default</defaultProjectile>
            <warmupTime>0.5</warmupTime>
        <SecondsToRecharge>60</SecondsToRecharge>
        <range>0</range>
        <soundCast>TM_VibrationLow</soundCast>
        <muzzleFlashScale>20</muzzleFlashScale>
        <isPrimary>false</isPrimary>
        <AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
		<targetParams>
			<canTargetItems>false</canTargetItems>
			<canTargetPawns>false</canTargetPawns>
			<canTargetBuildings>false</canTargetBuildings>
			<canTargetSelf>true</canTargetSelf>
			<canTargetLocations>false</canTargetLocations>
		</targetParams>
		<hediffsToApply>
                <li>
                    <hediffDef>A_Hazmat</hediffDef>
                    <applyChance>1.0</applyChance>
					<severity>-15</severity>
                </li>
				<li>
                    <hediffDef>A_Hazmat</hediffDef>
                    <applyChance>1.0</applyChance>
					<severity>2</severity>
                </li>
            </hediffsToApply>
    </MainVerb>
  </TorannMagic.TMAbilityDef>
</Defs>
